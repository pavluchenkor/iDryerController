## Калибровка датчика температуры воздуха

Применяемые датчики температуры воздуха тип BME280 отличаются нелинейностью показаний на краях диапазона. Для компенсации этого применяется алгоритм линейной коррекции.

Данные алгоритм получает из секции configuration.h

```
#define MIN_CALIB_TEMP 70

#define MAX_CALIB_TEMP CE

#define REAL_CALIB_TEMP_MIN 70

#define REAL_CALIB_TEMP_MAX 110

```

где: 
- MIN_CALIB_TEMP	Температура, ниже которой показания не корректируются
- MAX_CALIB_TEMP	Верхний предел диапазона, при котором применяется калибровка
- REAL_CALIB_TEMP_MIN	Температура по контрольному датчику при MIN_CALIB_TEMP
- REAL_CALIB_TEMP_MAX	Температура по контрольному датчику при MAX_CALIB_TEMP

### Подготовка к тесту
Настроить систему с подключенным датчиком bmeTemp и эталонным контрольным термистором.

Убедиться, что параметры калибровки заданы:
```
MIN_CALIB_TEMP = 70
REAL_CALIB_TEMP_MIN = 70
MAX_CALIB_TEMP = 100 или 110 (в зависимости от конфигурации)
REAL_CALIB_TEMP_MAX = 110 (в зависимости от конфигурации)
```
Иметь возможность задавать точные значения температуры на входе 


### Шаги тестирования
Проверка зоны без калибровки:

Задать 65С и проверить по контрольному датчику

Повторить для значений 70, 75 и т.д.. Найти температуру в которой данные контрольного измерительного прибора и встроенного датчика начнут расходится, вписать эту температуру в MIN_CALIB_TEMP и REAL_CALIB_TEMP_MIN

Проверка границы начала калибровки:
- установить максимальную температуру равную CE
- ожидать, выхода на заданную температуру
- вписать в REAL_CALIB_TEMP_MAX показания контрольного датчика
- сохранить изменения
- прошить контроллер командой

```
pio run -t clean -t upload
```

## Калибровка весов

### Установка весов

Для правильной работы весов необходимо соблюсти следующие условия:
- правильная установка
- правильная коммутация

#### Установка
При установке необходимо удостовериться, что модуль весов отстоит от пластины на 1.5-2мм и компаунд не касается пластины.

#### Коммутация
Как правило у весов черный провод(-), красный(+) подключаются к E+ и E- соответственно. Остальные два провода подключаются к A+ и А-. 
Чтобы понять какой куда, необходимо подключить черный и красный провода к питанию, перевести мультиметр в режим измерения постоянного напряжения и соединить черный провод(GND/-) мультиметра с черным проводом тензодатчика, красный провод соединить щуп мультиметра с белым проводам, измерить напряжение и надавить на тензодатчик, показания мультиметра изменятся на доли вольта, если изменились вверх, этот провод подключается к А+, вниз - А-.

#### Калибровка

Удалить с калибруемого модуля катушку. 
В меню SCALE выбрать пункт SET.
Дождаться надписи PUT WEIGHT 1000G и устновить калибровочный вес 1000г на катушкодердатель.
Повторить операцию для каждого модуля.

Если весы показывают неверный вес проверить:
- правильность крепления
- положение нулевого резистора на модуле hx711
- температуру микросхемы АЦП(не греется) 